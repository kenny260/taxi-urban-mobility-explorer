<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NYC Taxi Analytics Dashboard</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <aside class="sidebar">
        <div class="logo">
            <h2>NYC Taxi Analytics</h2>
        </div>
        <nav class="nav-menu">
            <a href="#dashboard" class="nav-item active" data-view="dashboard">
                <span>Dashboard</span>
            </a>
            <a href="#analytics" class="nav-item" data-view="analytics">
                <span>Analytics</span>
            </a>
            <a href="#insights" class="nav-item" data-view="insights">
                <span>Insights</span>
            </a>
            <a href="#data" class="nav-item" data-view="data">
                <span>Data Explorer</span>
            </a>
        </nav>
        <div class="sidebar-footer">
            <p>January 2019</p>
            <small>NYC TLC Dataset</small>
        </div>
    </aside>

    <main class="main-content">
        <header class="header">
            <div class="header-left">
                <h1 id="page-title">Dashboard</h1>
                <p id="page-subtitle">Overview of taxi operations</p>
            </div>
            <div class="header-right">
                <button class="btn-icon" id="refresh-btn" title="Refresh">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"/>
                    </svg>
                </button>
                <button class="btn-icon" id="export-btn" title="Export CSV">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"/>
                    </svg>
                </button>
            </div>
        </header>

        <div id="loader" class="loader hidden">
            <div class="spinner"></div>
        </div>

        <div id="dashboard-view" class="view active">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label">Total Trips</div>
                    <div class="stat-value" id="stat-trips">--</div>
                    <div class="stat-change">Loading...</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Total Revenue</div>
                    <div class="stat-value" id="stat-revenue">--</div>
                    <div class="stat-change">Loading...</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Average Fare</div>
                    <div class="stat-value" id="stat-fare">--</div>
                    <div class="stat-change">Per trip</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Average Speed</div>
                    <div class="stat-value" id="stat-speed">--</div>
                    <div class="stat-change">Miles per hour</div>
                </div>
            </div>

            <div class="charts-row">
                <div class="chart-card">
                    <h3>Hourly Demand Pattern</h3>
                    <canvas id="hourly-chart"></canvas>
                </div>
                <div class="chart-card">
                    <h3>Borough Revenue Distribution</h3>
                    <canvas id="borough-chart"></canvas>
                </div>
            </div>
        </div>

        <div id="analytics-view" class="view">
            <div class="charts-grid">
                <div class="chart-card">
                    <h3>Daily Trip Volume</h3>
                    <canvas id="daily-chart"></canvas>
                </div>
                <div class="chart-card">
                    <h3>Time Category Performance</h3>
                    <canvas id="time-chart"></canvas>
                </div>
                <div class="chart-card">
                    <h3>Speed Analysis by Time</h3>
                    <canvas id="speed-chart"></canvas>
                </div>
            </div>
        </div>

        <div id="insights-view" class="view">
            <div class="insights-grid">
                <div class="insight-card">
                    <span class="insight-badge">Insight 1</span>
                    <h3>Rush Hour Economics</h3>
                    <div class="insight-metric" id="insight-1-value">--</div>
                    <p class="insight-text" id="insight-1-text">Analyzing patterns...</p>
                    <canvas id="insight-1-chart"></canvas>
                </div>
                <div class="insight-card">
                    <span class="insight-badge">Insight 2</span>
                    <h3>Borough Distribution</h3>
                    <div class="insight-metric" id="insight-2-value">--</div>
                    <p class="insight-text" id="insight-2-text">Calculating metrics...</p>
                    <canvas id="insight-2-chart"></canvas>
                </div>
                <div class="insight-card">
                    <span class="insight-badge">Insight 3</span>
                    <h3>Efficiency Analysis</h3>
                    <div class="insight-metric" id="insight-3-value">--</div>
                    <p class="insight-text" id="insight-3-text">Processing data...</p>
                    <canvas id="insight-3-chart"></canvas>
                </div>
            </div>
        </div>

        <div id="data-view" class="view">
            <div class="filters-bar">
                <input type="text" class="input" placeholder="Search zones..." id="search-input">
                <select class="select" id="borough-select">
                    <option value="">All Boroughs</option>
                    <option value="Manhattan">Manhattan</option>
                    <option value="Brooklyn">Brooklyn</option>
                    <option value="Queens">Queens</option>
                    <option value="Bronx">Bronx</option>
                </select>
                <button class="btn-primary" id="apply-filter">Apply</button>
            </div>

            <div class="table-card">
                <div class="table-wrapper">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Pickup Time</th>
                                <th>Pickup</th>
                                <th>Dropoff</th>
                                <th>Distance</th>
                                <th>Fare</th>
                                <th>Speed</th>
                            </tr>
                        </thead>
                        <tbody id="data-tbody">
                            <tr><td colspan="7" class="loading">Loading...</td></tr>
                        </tbody>
                    </table>
                </div>
                <div class="table-footer">
                    <button class="btn" id="prev-btn">Previous</button>
                    <span id="page-info">Page 1</span>
                    <button class="btn" id="next-btn">Next</button>
                </div>
            </div>

            <div class="routes-card">
                <h3>Top Routes</h3>
                <div id="routes-list" class="routes-list">
                    <div class="route-item">
                        <span>Loading...</span>
                        <span>--</span>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="script.js"></script>
</body>
</html>